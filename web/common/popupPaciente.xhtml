<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"     
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">


    <h:body>	
        <p:dialog modal="true" widgetVar="dlListaCliente" resizable="false"
                  header="Paciente" dynamic="true" draggable="true" closeOnEscape="true" closable="true"
                  appendTo="@(body)" showEffect="blind" hideEffect="blind">

            <h:form id="formCliente">    
                <h:panelGrid id="gridDatos" rendered="#{not empty request.getRemoteUser()}">
                    <p:panel id="paneDatos" header="Ingresar Paciente">
                        <h:panelGrid columns="3">
                            
                            <p:outputLabel value="Identificación" for="identificacion" />
                            <p:inputText id="identificacion" required="true" maxlength="15"
                                         requiredMessage="Ingrese la cédula o ruc"
                                         value="#{citasBean.clienteNuevo.pacIdentificacin}"/> 
                            <p:tooltip for="identificacion"
                                       value="Ingrese la cédula o ruc"
                                       showEffect="clip" hideEffect="explode" />

                            <p:outputLabel value="Nombres" for="nombre" />
                            <p:inputText id="nombre" required="true"
                                         requiredMessage="Campo requerido"
                                         value="#{citasBean.clienteNuevo.pacNombres}" />                             
                            <p:tooltip for="nombre"
                                       value="Campo requerido"
                                       showEffect="clip" hideEffect="explode" />

                            <p:outputLabel value="Apellidos" for="apellido" />
                            <p:inputText id="apellido" required="true"
                                         requiredMessage="Campo requerido"
                                         value="#{citasBean.clienteNuevo.pacApellidos}" />                             
                            <p:tooltip for="apellido"
                                       value="Campo requerido"
                                       showEffect="clip" hideEffect="explode" />
                            
                            <p:outputLabel value="Telefono" for="telf" />
                            <p:inputMask id="telf"
                                         value="#{citasBean.clienteNuevo.pacTelefono}" mask="(99) 9999-999"/>                             
                            <p:tooltip for="telf"
                                       value="Ingrese Telefono"
                                       showEffect="clip" hideEffect="explode" />
                            
                            <p:outputLabel for="fecha" value="Fecha Nacimiento:" />
                            <p:calendar id="fecha" value="#{citasBean.clienteNuevo.fechaNacimiento}" pattern="dd-MM-yyyy" mask="true" />
                                    <p:tooltip for="fecha"
                                               value="Fecha FORMAT DD-MM-AAAA"
                                               showEffect="clip" hideEffect="explode" /> 
                            
                            <p:outputLabel for="genero" value="Genero:"  />
                            <p:selectOneMenu id="genero" label="Genero" value="#{citasBean.clienteNuevo.pacGenero}" required="true" requiredMessage="Campo requerido">
                                        <f:selectItem itemLabel="Seleccione..." noSelectionOption="true" />
                                        <f:selectItem itemLabel="MASCULINO" itemValue="MASCULINO"/>
                                        <f:selectItem itemLabel="FEMENINO" itemValue="FEMENINO"/>
                                        <f:selectItem itemLabel="OTRO" itemValue="OTRO"/>
                                    </p:selectOneMenu>
                                    <p:tooltip for="genero"
                                               value="Campo requerido"
                                               showEffect="clip" hideEffect="explode" /> 
                                    
                            <p:outputLabel for="estadoCivil" value="Estado Civil:"  />
                            <p:selectOneMenu id="estadoCivil" label="Genero" value="#{citasBean.clienteNuevo.estadoCivil}" required="true" requiredMessage="Campo requerido">
                                        <f:selectItem itemLabel="Seleccione..." noSelectionOption="true" />
                                        <f:selectItem itemLabel="SOLTERO" itemValue="SOLTERO"/>
                                        <f:selectItem itemLabel="CASADO" itemValue="CASADO"/>
                                        <f:selectItem itemLabel="VIUDO" itemValue="VIUDO"/>
                                        <f:selectItem itemLabel="DIVORSIADO" itemValue="DIVORSIADO"/>
                                        <f:selectItem itemLabel="UNION_LIBRE" itemValue="UNION_LIBRE"/>
                                        <f:selectItem itemLabel="SEPARADO" itemValue="SEPARADO"/>
                                    </p:selectOneMenu>
                                    <p:tooltip for="estadoCivil"
                                               value="Campo requerido"
                                               showEffect="clip" hideEffect="explode" /> 

                            <p:outputLabel value="Correo" for="correo" />
                            <p:inputText id="correo" validatorMessage="El correo ingresado es incorrecto"
                                         value="#{citasBean.clienteNuevo.pacCorreo}">
                                <f:validateRegex
                                    pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                            </p:inputText>                             
                            <p:tooltip for="correo"
                                       value="Ingrese correo Valido"
                                       showEffect="clip" hideEffect="explode" />
                            
                            <p:outputLabel for="ciudad" value="Ciudad:"  />
                            <p:selectOneMenu id="ciudad" label="rol" value="#{citasBean.codigoCiudad}"    
                                                     required="true" requiredMessage="Campo requerido">
                                        <f:selectItem itemLabel="Seleccione..." noSelectionOption="true" />
                                        <f:selectItems value="#{citasBean.ciudades}" var="item" itemLabel="#{item.ciuNombre}" itemValue="#{item.ciuCodigo}" />
                             </p:selectOneMenu>
                             <p:tooltip for="ciudad"
                                               value="Campo requerido"
                                               showEffect="clip" hideEffect="explode" />
                            
                            <p:outputLabel value="Dirección" for="dir" />
                            <p:inputTextarea id="dir"
                                             value="#{citasBean.clienteNuevo.pacDireccion}" />                             
                            <p:tooltip for="dir"
                                       value="Ingrese Dirección"
                                       showEffect="clip" hideEffect="explode" />                                                                                                                     

                            <f:facet name="footer">
                                <p:commandButton id="grabar" value="Guardar" validateClient="true" ajax="true" icon="ui-icon-disk"
                                                 actionListener="#{citasBean.createCliente}"
                                                 update=":formCliente,:formLista,formDatos" process=":formCliente" />
                                
                            </f:facet>                             
                        </h:panelGrid>                          
                    </p:panel>
                </h:panelGrid>
            </h:form>
        </p:dialog>      
    </h:body>
</html>